$ rm -f v
$ cp varia.conf v

$ ../src/confctl -a v
> varia.x=y
> varia.z=
> varia.1.escaped\\ name=
> varia.1."quoted name"=val\\\\ue\\\n			same value
> varia.1.quoted-newlines='from here\n			to here'
> varia.1."escape\\"check"="in\\"value"
> varia.1.'squoted name'=
> varia.1.'escaped\\'squote'='in\\'value'
> varia.1.xxx=value \\# with hash
> varia.1.yyy=same thing '# different way'
> varia.1.yy2=same thing "# different way"
> varia.1.'quoted " squote'=
> varia.1."squoted ' quote"=
> varia.1.escaped=\\{ brackets \\}
> varia.1.quoted='{' brackets '}'
> varia.1.2.3.4=5
> varia.1.2.3.6=
> varia.1.2.meh=
> varia.1.2.moo=
> varia.slashed./var=/val
> varia.slashed.no_val=
> varia.slashed.slash_in_value=foo / bar
> varia.slashed.quoted_slash="foo / bar"
> varia.slashed.squoted_slash='foo / bar'
> varia.slashed.spaced=foo / / bar

$ ../src/confctl -w varia.x=new-x -w varia.z=new-z -w varia.new-var=meh -w outside-of-1=wzium v
$ cat v
> # Opening comment
> # on top
> # of the file.
> 
> varia {
> 	# meh
> 	x new-x	# x with value
> 	z new-z	# z without value
> 	# another variable goes here
> 	1 {
> 		escaped\ name
> 		"quoted name" val\\ue\
> 			same value
> 		quoted-newlines	'from here
> 			to here'
> 		"escape\"check" "in\"value"
> 		'squoted name'
> 		'escaped\'squote' 'in\'value'
> 
> 		xxx value \# with hash
> 		yyy same thing '# different way'
> 		yy2 same thing "# different way"
> 
> 		'quoted " squote'
> 		"squoted ' quote"
> 		escaped	\{ brackets \}
> 		quoted '{' brackets '}'
> 
> 		# comment before 2
> 		2 {
> 			3 {
> 				4 5; 6 # comment for 6
> 			}
> 			
> 			meh
> 			moo
> 
> 		} # comment after 2
> 	}
> 
> 	slashed {
> 		// Test for handling "// comments"
> 		/var /val//comment
> 		no_val //comment
> 		slash_in_value foo / bar
> 		quoted_slash "foo / bar"
> 		squoted_slash 'foo / bar' // boring
> 		spaced foo / / bar
> 	}
> 	new-var meh
> 
> 	# nothing interesting here
> 
> }
> outside-of-1 wzium
> 
> # that's all, folks.

$ rm -f v
